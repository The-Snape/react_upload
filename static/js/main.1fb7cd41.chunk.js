(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{72:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c,s,r=n(2),a=n.n(r),i=n(63),j=n.n(i),l=(n(72),n(28)),d=n(9),o=n(14),b=n(4),h=function(){return Object(b.jsxs)("nav",{className:"navbar",children:[Object(b.jsx)("h1",{children:"BB's Website"}),Object(b.jsxs)("div",{className:"links",children:[Object(b.jsx)(l.b,{to:"/",children:"Home"}),Object(b.jsx)(l.b,{to:"/create",children:"New Post"})]})]})},O=n(39),u=Object(o.gql)(c||(c=Object(O.a)(["\n{\n  posts(order_by: {id: desc}) {\n    id\n    body\n    title\n  }\n}\n"]))),x=function(){var e=Object(o.useQuery)(u),t=e.loading,n=e.error,c=e.data;return t?Object(b.jsx)("h5",{children:"Loading"}):n?Object(b.jsx)("h5",{children:"Something's Wrong..."}):c.posts.map((function(e){return Object(b.jsxs)("div",{className:"post-preview",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("p",{children:e.body})]})}))},p=n(30),v=new o.ApolloClient({cache:new o.InMemoryCache,link:new o.HttpLink({uri:"https://touched-serval-58.hasura.app/v1/graphql",headers:{"x-hasura-admin-secret":"IwLaLm1BACwrg8vx1oN8Z6H6UJSVyUvwzVsyYLjk5EjdQSwI3KlztYLI3mJOOQKh"}})}),m=Object(o.gql)(s||(s=Object(O.a)(["\n    mutation posts($body: String!, $title: String!) {\n    insert_posts(objects: {body: $body, title: $title}) {\n      affected_rows\n    }\n}"]))),w=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(p.a)(s,2),i=a[0],j=a[1],l=Object(r.useState)(!1),o=Object(p.a)(l,2),h=o[0],O=o[1],u=Object(d.f)();return Object(b.jsxs)("div",{className:"create",children:[Object(b.jsx)("h2",{children:"Add a New Post"}),Object(b.jsxs)("form",{onSubmit:function(e){O(!0),v.mutate({mutation:m,variables:{title:n,body:i}}),O(!1),u.push("/")},children:[Object(b.jsx)("label",{children:"Post Title:"}),Object(b.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){c(e.target.value)}}),Object(b.jsx)("label",{children:"Post Body:"}),Object(b.jsx)("textarea",{required:!0,value:i,onChange:function(e){j(e.target.value)}}),!h&&Object(b.jsx)("button",{children:"Add Post"}),h&&Object(b.jsx)("button",{disabled:!0,children:"Adding ..."})]})]})},y=new o.ApolloClient({cache:new o.InMemoryCache,link:new o.HttpLink({uri:"https://touched-serval-58.hasura.app/v1/graphql",headers:{"x-hasura-admin-secret":"IwLaLm1BACwrg8vx1oN8Z6H6UJSVyUvwzVsyYLjk5EjdQSwI3KlztYLI3mJOOQKh"}})});var g=function(){return Object(b.jsx)(o.ApolloProvider,{client:y,children:Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{}),Object(b.jsx)("div",{className:"content",children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/",children:Object(b.jsx)(x,{})}),Object(b.jsx)(d.a,{path:"/create",children:Object(b.jsx)(w,{})})]})})]})})})};j.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.1fb7cd41.chunk.js.map