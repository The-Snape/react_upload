{"version":3,"sources":["Navbar.tsx","Home.tsx","Create.tsx","PostDetail.tsx","NotFound.tsx","App.tsx","index.tsx"],"names":["Navbar","className","to","all_posts","gql","Home","useQuery","loading","error","data","message","posts","map","content","id","title","client","ApolloClient","cache","InMemoryCache","link","HttpLink","uri","headers","insert_post_data","Create","useState","setTitle","body","setBody","isPending","setIsPending","history","useHistory","onSubmit","e","mutate","mutation","variables","push","type","required","value","onChange","target","disabled","post_with_id","delete_post_with_id","PostDetail","idx","useParams","Id","handleClick","_eq","onClick","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7cf9e41c.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\n\nconst Navbar = () => {\n    return ( \n        <nav className=\"navbar\">\n            <h1>BB's Website</h1>\n            <div className=\"links\">\n                <Link to=\"/\">Home</Link>\n                <Link to=\"/create\" >New Post</Link>\n            </div>\n\n        </nav>\n    );\n}\n \nexport default Navbar;","import { gql, useQuery } from '@apollo/client';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nconst all_posts = gql`\n{\n  posts(order_by: {id: desc}) {\n    id\n    body\n    title\n  }\n}\n`; \nconst Home: React.FC = () => {\n    const {loading,error,data} = useQuery(all_posts);\n    // var x:any=data;\n    // console.log(x);\n    if(loading){\n        return <h5>Loading</h5>\n    }\n    if(error){\n        return (\n            <div>\n                <h3>The following error has occured:</h3>\n                <p>{error?.message}</p>\n            </div>\n        );\n    }\n    return data.posts.map((content:any)=>{\n        return(\n            <div className=\"post-preview\">\n                <Link to={`/posts/${content.id}`}>\n                <h2>{content.title}</h2>\n                {/* <p>{content.body}</p> */}\n                </Link>\n            </div>\n        )\n    });\n\n}\n \nexport default Home;","import { gql } from \"@apollo/client\";\nimport { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\n\nimport {ApolloClient, InMemoryCache, HttpLink} from '@apollo/client';\nconst client= new ApolloClient({\n    cache: new InMemoryCache(),\n    link: new HttpLink({\n      uri: 'https://touched-serval-58.hasura.app/v1/graphql',\n      headers: {\n        'x-hasura-admin-secret': `IwLaLm1BACwrg8vx1oN8Z6H6UJSVyUvwzVsyYLjk5EjdQSwI3KlztYLI3mJOOQKh`\n      }\n    }),\n  });\nconst insert_post_data = gql`\n    mutation posts($body: String!, $title: String!) {\n    insert_posts(objects: {body: $body, title: $title}) {\n      affected_rows\n    }\n}`\n;\nconst Create = () => {\n    const [title,setTitle]=useState('');\n    const [body,setBody]=useState('');\n    const [isPending,setIsPending]=useState(false);\n    const history=useHistory();\n    const handleSubmit= (e:any) => {\n        setIsPending(true);\n        client.mutate({\n            mutation: insert_post_data,\n            variables:{title:title,body:body}\n          })\n        setIsPending(false);\n        history.push('/');\n\n    }\n    return ( \n        <div className=\"create\">\n            <h2>Add a New Post</h2>\n            <form onSubmit={handleSubmit}>\n                <label>Post Title:</label>\n                <input\n                    type=\"text\"\n                    required\n                    value={title}\n                    onChange={(e)=>{setTitle(e.target.value)}}\n                />\n                <label>Post Body:</label>\n                <textarea\n                    required\n                    value={body}\n                    onChange={(e)=>{setBody(e.target.value)}}\n                ></textarea>\n                \n                {!isPending && <button>Add Post</button>}\n                {isPending && <button disabled>Adding ...</button>}\n            </form>\n        </div>\n    );\n}\n \nexport default Create;","import { gql, useQuery } from \"@apollo/client\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport {ApolloClient, InMemoryCache, HttpLink} from '@apollo/client';\nconst post_with_id = gql`\n    query MyQuery($id: Int!) {\n        posts(where: {id: {_eq: $id}}) {\n            body\n            title\n        }\n    }\n`; \nconst delete_post_with_id = gql`\n    mutation ($_eq: Int!) {\n        delete_posts(where: {id: {_eq: $_eq}}) {\n            affected_rows\n        }\n    }\n`;\n\nconst client= new ApolloClient({\n    cache: new InMemoryCache(),\n    link: new HttpLink({\n      uri: 'https://touched-serval-58.hasura.app/v1/graphql',\n      headers: {\n        'x-hasura-admin-secret': `IwLaLm1BACwrg8vx1oN8Z6H6UJSVyUvwzVsyYLjk5EjdQSwI3KlztYLI3mJOOQKh`\n      }\n    }),\n  });\nconst PostDetail: React.FC = () => {\n    \n    const { idx }=useParams<{ idx: string }>();\n    const history=useHistory();\n    var Id:number= +idx;\n    const {loading,error,data} = useQuery(post_with_id,{ variables: {id:Id} });\n    const handleClick=()=>{\n        client.mutate({\n            mutation: delete_post_with_id,\n            variables:{_eq:Id}\n          })\n        history.push('/');\n    }\n    if(loading){\n        return <h5>Loading</h5>\n    }\n    if(error){\n        return (\n            <div className=\"post-details\">\n                <h2>The following error occured:</h2>\n                <p>{error?.message}</p>\n            </div>\n        );\n    }\n    return data.posts.map((content:any)=>{\n        return(\n            <div className=\"post-details\">\n                <p>{content.body}</p>\n                <br/>\n                <button onClick={handleClick}>delete post</button>\n            </div>\n        )\n    });\n}\n\nexport default PostDetail;","import { Link } from \"react-router-dom\"\n\nconst NotFound: React.FC = () => {\n    return (  \n        <div >\n            <h2>Sorry</h2>\n            <p>Page cannot be found</p>\n            <Link to=\"/\">Back to the homepage</Link>\n        </div>\n    );\n}\n\nexport default NotFound;","import React from 'react';\nimport {BrowserRouter as Router,Switch,Route} from 'react-router-dom';\nimport { ApolloClient, InMemoryCache, HttpLink, ApolloProvider} from '@apollo/client';\nimport Navbar from './Navbar';\nimport Home from './Home';\nimport Create from './Create';\nimport PostDetail from './PostDetail';\nimport NotFound from './NotFound';\n\nconst client= new ApolloClient({\n  cache: new InMemoryCache(),\n  link: new HttpLink({\n    uri: 'https://touched-serval-58.hasura.app/v1/graphql',\n    headers: {\n      'x-hasura-admin-secret': `IwLaLm1BACwrg8vx1oN8Z6H6UJSVyUvwzVsyYLjk5EjdQSwI3KlztYLI3mJOOQKh`\n    }\n  }),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <Navbar/>\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Home/>\n              </Route>\n              <Route path=\"/create\">\n                <Create/>\n              </Route>\n              <Route path=\"/posts/:idx\">\n                <PostDetail/>\n              </Route>\n              <Route path=\"*\">\n                <NotFound/>\n              </Route>\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </ApolloProvider>\n  \n);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n      <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}